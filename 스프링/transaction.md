## @Transactional을 테스트 메서드에서 사용했을 때 문제점

@Tranasactional 어노테이션을 테스트에서 사용하면 실제 서비스 환경에서는 다르게 동작할 수 있음

테스트 메서드에서 트랜잭션을 걸면 실제 서비스 코드 보다 위인 테스트메서드 부터 트랜잭션이 잡히므로 실제 서비스 코드에서는 트랜잭션 밖이어도 같이 안으로 묶이는 문제점이 생긴다 -> 만약 실제 서비스 코드에서는 트랜잭션 밖이어서 detached된 엔티티여서 수정해도 db에 반영되지 않는 코드지만 테스트 메서드에서 트랜잭션을 걸면 하나의 영역으로 묶이므로 실제로는 detached된 엔티티를 수정해도 db에 반영된다.

롤백테스트를 위해서는 Transactional 쓰면 편하긴함 -> AfterEach로 리포지토리를 다 불러와서 하나씩 돌려야하는가?

어찌됐든 Transactional의 이점이 많으니 이러한 상황을 유의하며 테스트를 작성해야 할듯