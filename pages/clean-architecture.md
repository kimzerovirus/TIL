# Clean Architecture

계층형 아키텍처는 영속성 -> 도메인 -> 웹 계층의 순서대로 만든다. 따라서 한 개발자만 작업할 수 있다. 서로다른 기능을 동시에 작업하기가 어렵다.

단일 책임 원칙 (DIP): 하나의 컴포넌트는 하나의 일만 해야한다. - 컴포넌트를 변경하는 이유는 오로지 하나여야만 한다.

클린 아키텍처 , 헥사고날 아키 등 다 기본 개념은 의존성을 역전시켜 도메인과 바깥쪽 코드를 분리 시키는 듯

도메인, 영속성, UI 각각의 문제에 집중하도록 설계하여 코드 수정이 용이하게 하자는 의미

계층으로 구성하기(web, domain, persistence) - 애플리케이션의 기능이나 특성에 따른 분류가 없이 뭉뜨그려 패키지에 들어가므로 관리하기 어려움

기능으로 구성하기 - 기능단위로 모여있지만 계층의 구별이 없이 하나에 뭉뜨그려진다



두 계층 간에 매핑을 하면 같은 모델을 사용하지 않아 두 계층이 강하게 결합되지 않는다는 장점이 있다 하지만 보일러 플레이트 코드를 너무 많이 만들게 된다는 단점이 있다.

- 매핑하지 않기 전략 : 모두가 같은 모델과 결합되어야함 이렇게 되면 웹계층을 위한 json 설정이나 영속성 db와 관련된 설정을 다 같이 모델이 가져가야한다. 따라서 단일 책임 원칙을 위반하게 됨 (간단한 crud 라면 이렇게 해도 될지도?)
- 양방향 매핑 전략 : 웹계층 -> 도메인 모델, 도메인 모델 -> 웹계층으로 양방향 매핑하는건가? (우리가 일반적으로 아는 dto패턴을 말하는듯)
- 완전 매핑 전략 : 연산마다 별도의 입출력 모델을 사용 -> 애플리케이션 계층 사이에서 상태 변경 유스케이스 경계를 명확하게 할 때 가장 빛을 발휘한다.
- 단방향 매핑 전략
