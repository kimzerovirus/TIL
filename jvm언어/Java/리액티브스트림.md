# Reactive Streams

> Observer 패턴? (에러/완료/배압(Backpressure)) + Iterator(=>onNext라는 메서드에서 그 특성이 드러남) <br/>
>
> publisher, subscriber, subscrpition 을 통해 비동기로 서로 이벤트를 주고 받으며 필요한 요청만큼만 처리하는 메커니즘을 가지고 있다.

## Reactive Stream 구조

- `Publisher` : 데이터/이벤트를 제공한다. 
  - subscribe 함수를 통해 publisher에 다수의 subscriber를 등록한다.
- `Subscriber` : 데이터/이벤트를 제공받는다. - subscribe해야 실제로 작업이 이루어진다.
  - subscribe하면 publisher로부터 subscription을 받을 수 있는 인자를 제공한다.
  - onNext, onComplete, onError
- `Subscription` : 데이터 흐름을 조절한다.
  - cancel : publisher가 onNext로 값을 전달하는 것을 취소한다. (complete 되기 전이어도 취소 가능)
  - request : 요청 수 전달

- onSubscribe : publisher가 subscription을 subscriber 에게 전달함.
- onNext : data 전달
- onComplete : complete 이벤트
- onError : error 이벤트

## Reactive Stream의 확장

> Reactive streams 구현 라이브러리는 대표적으로 Project Reactor, RxJava, Mutiny 3개가 있다. 특히 Project Reactor는 spring webflux의 기반이 되는 라이브러리이다. RxJava는 netflix에서 만들었다. mutiny는 hibernate reactive를 위해 개발되었다.

#### Project reactor

- Pivotal에서 개발하였다.
- Spring Reactor에서 사용하고 있고 이는 Spring WebFlux의 토대가 된다.
- Mono : Optional과 같은 일을 하기 위해 존재 즉, 한개가 있거나 없다를 보장하기 위해 있다, Mono<Void>로 특정 작업이 완료되는 시점을 가리킬 수도 있다.
-  Flux : 0 ~ 무한대, 여러개의 값

#### RxJava

- Netflix에서 개발하였다.
- 닷넷 프레임워크를 지원하는 Reactive Extensions를 포팅하여 만들었다.
- Flowable, Observable, Single, Maybe, Completable
- 자바 최신 문법이 지원되지 않는등 제약사항이 있나봄

### Mutiny

- Hibernate reactive
- Multi, Uni

### 참고

[강의 - 토비의 리액티브 스트림](https://www.youtube.com/watch?v=8fenTR3KOJo&list=PLOLeoJ50I1kkqC4FuEztT__3xKSfR2fpw&index=1&t=4826s)